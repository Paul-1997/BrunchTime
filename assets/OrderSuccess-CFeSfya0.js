import{O as V}from"./OrderProgressbar-CXH3owH2.js";import{o as O}from"./orderStore-mTS2Tg5Z.js";import{f as B}from"./formatDate-DjwVwIQF.js";import{x as C,m as F,_ as P,c as l,e as d,D as R,r as u,a as t,g as r,t as o,F as S,z as T,f as k,o as a}from"./index-Cvp84FeK.js";import{L as j}from"./LoadingComp-AEIi_1e5.js";const q={components:{OrderProgressbar:V,Loading:j},data(){return{OrderState:3,orderInfo:{id:"",create_at:0,products:[],total:0,is_paid:!1,num:0,user:{name:"",tel:"",email:"",address:""},message:""}}},methods:{formatDate:B,...F(O,["getSingleOrder"])},computed:{...C(O,["onLoading"])},async mounted(){const i=this.$route.path.split("/").pop(),s=await this.getSingleOrder(i);s===!1||s.order===null?this.$router.push("/NotFound"):this.orderInfo=s.order}},z={key:0,class:"container py-6 py-lg-lg"},A={class:"col-lg-6 mx-auto mb-8 mb-md-10"},E={class:"orderInfo border border-neutral-light rounded-2 shadow-lg p-4"},G={class:"mb-3"},H={class:"mb-6"},J={class:"table py-4 mb-6"},K={class:"pt-2"},M={class:"pt-2 text-center"},Q={class:"pt-2 text-center"},U={class:"pt-2 text-center"},W={class:"text-end fs-xl"},X={class:"text-secondary fs-2xl"},Y={class:"py-4"},Z={class:"mb-3"},$={class:"mb-3"},tt={class:"mb-3"},st=["value"],ot={class:"d-flex justify-content-center gap-6"},et={type:"button",class:"btn btn-outline-neutral"},rt={type:"button",class:"btn btn-primary"};function nt(i,s,lt,dt,e,N){var m,f,b,c,g,_,x,y,I,w,v,L;const h=u("Loading"),D=u("OrderProgressbar"),p=u("RouterLink");return a(),l(S,null,[d(h,{active:i.onLoading},null,8,["active"]),e.orderInfo.id?(a(),l("div",z,[d(D,{state:e.OrderState},null,8,["state"]),t("div",A,[s[15]||(s[15]=t("h3",{class:"mb-6 fw-bold fs-lg fs-lg-2xl"},"訂單成立，以下是您的訂單明細：",-1)),t("div",E,[t("p",G,[s[0]||(s[0]=t("strong",{class:"fw-semibold"},"訂單標號:",-1)),r(" "+o((m=e.orderInfo)==null?void 0:m.id),1)]),t("p",H,[s[1]||(s[1]=t("strong",{class:"fw-semibold"},"訂單時間:",-1)),r(" "+o(N.formatDate((f=e.orderInfo)==null?void 0:f.create_at,!0)),1)]),s[12]||(s[12]=t("h4",{class:"border-bottom border-neutral fw-bold"},"產品明細",-1)),t("table",J,[s[2]||(s[2]=t("thead",null,[t("tr",null,[t("th",null,"名稱"),t("th",{class:"text-center"},"數量"),t("th",{class:"text-center"},"金額"),t("th",{class:"text-center"},"小計")])],-1)),t("tbody",null,[(a(!0),l(S,null,T(e.orderInfo.products,n=>(a(),l("tr",{key:n.id},[t("td",K,o(n.product.title),1),t("td",M,o(n.qty)+"("+o(n.product.unit)+")",1),t("td",Q,o(n.product.price),1),t("td",U,o(n.final_total),1)]))),128))])]),t("p",W,[s[3]||(s[3]=r(" 總計： ",-1)),t("span",X,"NT$"+o((b=e.orderInfo)==null?void 0:b.total),1)]),s[13]||(s[13]=t("h4",{class:"border-bottom border-neutral fw-bold"},"購買人資訊",-1)),t("ul",Y,[t("li",Z,[s[4]||(s[4]=t("strong",{class:"fw-semibold"},"購買人姓名：",-1)),s[5]||(s[5]=r()),t("span",null,o((g=(c=e.orderInfo)==null?void 0:c.user)==null?void 0:g.name),1)]),t("li",$,[s[6]||(s[6]=t("strong",{class:"fw-semibold"},"購買人電話：",-1)),s[7]||(s[7]=r()),t("span",null,o((x=(_=e.orderInfo)==null?void 0:_.user)==null?void 0:x.tel),1)]),t("li",tt,[s[8]||(s[8]=t("strong",{class:"fw-semibold"},"購買人信箱：",-1)),s[9]||(s[9]=r()),t("span",null,o((I=(y=e.orderInfo)==null?void 0:y.user)==null?void 0:I.email),1)]),t("li",null,[s[10]||(s[10]=t("strong",{class:"fw-semibold"},"購買人地址：",-1)),s[11]||(s[11]=r()),t("span",null,o((v=(w=e.orderInfo)==null?void 0:w.user)==null?void 0:v.address),1)])]),s[14]||(s[14]=t("div",{class:"mb-2"},"備註：",-1)),t("textarea",{class:"form-control text-neutral",value:(L=e.orderInfo)==null?void 0:L.message,disabled:"",style:{"min-height":"100px"}},null,8,st)])]),t("div",ot,[t("button",et,[d(p,{to:"/"},{default:k(()=>s[16]||(s[16]=[r("返回首頁",-1)])),_:1,__:[16]})]),t("button",rt,[d(p,{to:"/products"},{default:k(()=>s[17]||(s[17]=[r("繼續選購",-1)])),_:1,__:[17]})])])])):R("",!0)],64)}const ft=P(q,[["render",nt]]);export{ft as default};
