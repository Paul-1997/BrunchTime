import{a as f}from"./newsStore-B3dncBiU.js";import{x as k,m as L,_ as y,c as o,a as e,e as p,f as m,r as u,D as c,t as l,d as _,g as d,F as v,z as x,o as r,E as C}from"./index-Cvp84FeK.js";import{f as N}from"./formatDate-DjwVwIQF.js";import{L as O}from"./LoadingComp-AEIi_1e5.js";import{B as S}from"./BreadcrumbComp-C_34iboh.js";const B={components:{Loading:O,Breadcrumb:S},data(){return{article:{}}},methods:{formatDate:N,newsLinkOption(s){const t=this.articleList.findIndex(h=>h.id===this.article.id);return this.articleList[t+s]},isCurrentNews(s){const t=this.$route.path.split("/").pop();return s===t},...L(f,["getArticles","getSingleArticle"])},computed:{...k(f,["articleList","pagination","onLoading"])},async mounted(){await this.getArticles("custom"),this.article=await this.getSingleArticle(this.$route.path.split("/").pop())},watch:{"$route.path":{async handler(s){this.article=await this.getSingleArticle(s.split("/").pop())}}}},A={class:"container"},D={class:"row justify-content-center py-8"},V={class:"col-md-9"},I={key:0,class:"news__detail mx-auto d-flex flex-column"},M={class:"news__detail__title fw-bold text-secondary fs-xl fs-md-3xl"},T={class:"ps-1 mb-2 text-neutral"},j=["datetime"],z={class:"news__detail__photoWrapper"},E=["src","alt"],F=["innerHTML"],H={key:0,class:"d-flex justify-content-between py-4"},W={class:"col-md-3 d-none d-md-block"},$={class:"position-sticky",style:{top:"70px"}},q={class:"newsListNav"},G=["onClick"];function J(s,t,h,K,i,n){const w=u("router-link"),b=u("Breadcrumb"),g=u("Loading");return r(),o("div",A,[e("div",D,[p(b,{class:"position-absolute top-0 start-0"},{"breadcrumb-item-1":m(()=>[p(w,{to:"/news"},{default:m(()=>t[2]||(t[2]=[d("最新消息",-1)])),_:1,__:[2]})]),"breadcrumb-item-2":m(()=>[d(l(i.article.title),1)]),_:1}),e("div",V,[p(g,{active:s.onLoading,"is-full-page":!1,loader:"spinner",style:{display:"grid","place-content":"center","min-height":"60vh"}},null,8,["active"]),s.onLoading?c("",!0):(r(),o("div",I,[e("h3",M,l(i.article.title),1),e("p",T,[i.article.id?(r(),o("time",{key:0,datetime:new Date(i.article.create_at).toISOString(),class:"fs-sm text-neutral text-end"},"發布日期:"+l(n.formatDate(i.article.create_at/1e3)),9,j)):c("",!0)]),e("div",z,[e("img",{src:i.article.image,alt:`${i.article.title} photo`,class:"news__detail__photo mb-4 w-100"},null,8,E)]),e("p",{innerHTML:i.article.content,class:"news__detail__content py-6 py-md-8 border-bottom border-neutral-light"},null,8,F),s.articleList.length?(r(),o("div",H,[n.newsLinkOption(-1)?(r(),o("a",{key:0,href:"#",onClick:t[0]||(t[0]=_(a=>s.$router.push(`/news/${n.newsLinkOption(-1).id}`),["prevent"])),class:"me-auto"},[t[3]||(t[3]=e("p",null,"上一篇：",-1)),d(" "+l(n.newsLinkOption(-1).title),1)])):c("",!0),n.newsLinkOption(1)?(r(),o("a",{key:1,href:"#",onClick:t[1]||(t[1]=_(a=>s.$router.push(`/news/${n.newsLinkOption(1).id}`),["prevent"])),class:"ms-auto"},[t[4]||(t[4]=e("p",null,"下一篇：",-1)),d(" "+l(n.newsLinkOption(1).title),1)])):c("",!0)])):c("",!0)]))]),e("div",W,[e("nav",$,[t[5]||(t[5]=e("h3",{class:"fw-bold fs-xl text-secondary p-4 ps-0 pb-0 mb-1 border-bottom border-accent border-4"},"最新消息",-1)),e("ul",q,[(r(!0),o(v,null,x(s.articleList,a=>(r(),o("li",{key:a.id,class:C(["border",{"bg-accent text-white":n.isCurrentNews(a.id)}])},[e("a",{href:"#",onClick:_(P=>s.$router.push(`/news/${a.id}`),["prevent"]),class:"p-3 d-block fw-semibold"},l(a.title),9,G)],2))),128))])])])])])}const Z=y(B,[["render",J],["__scopeId","data-v-f915a93c"]]);export{Z as default};
