import{O}from"./OrderProgressbar-Dy7atsaV.js";import{o as y}from"./orderStore-pPe-bkIF.js";import{f as S}from"./useHelper-DjwVwIQF.js";import{m as k,x as N,_ as h,c as n,e as l,a as t,g as r,t as o,F as I,z as V,f as D,C as P,r as i,o as d}from"./index-C3VS7dNT.js";import{L as R}from"./LoadingComp-036xVdR_.js";const T={components:{OrderProgressbar:O,Loading:R},data(){return{OrderState:3,orderInfo:{id:"",user:{name:"",tel:"",email:"",address:""},message:"",total:0,create_at:0,products:[]}}},methods:{formatDate:S,...k(y,["getSingleOrder"])},computed:{...N(y,["onLoading"])},async mounted(){const a=this.$route.path.split("/").pop(),s=await this.getSingleOrder(a);s===!1||s.order===null?this.$router.push("/NotFound"):this.orderInfo=s.order}},j={key:0,class:"container py-6 py-lg-lg"},q={class:"col-lg-6 mx-auto mb-8 mb-md-10"},z={class:"orderInfo border border-neutral-light rounded-2 shadow-lg p-4"},G={class:"mb-3"},H={class:"mb-6"},J={class:"table py-4 mb-6"},K={class:"pt-2"},M={class:"pt-2 text-center"},Q={class:"pt-2 text-center"},U={class:"pt-2 text-center"},W={class:"text-end fs-xl"},X={class:"text-secondary fs-2xl"},Y={class:"py-4"},Z={class:"mb-3"},$={class:"mb-3"},tt={class:"mb-3"},st=["value"],ot={class:"d-flex justify-content-center gap-6"},et={type:"button",class:"btn btn-outline-neutral"},rt={type:"button",class:"btn btn-primary"};function ut(a,s,nt,lt,e,w){var m,f,b,c,g,F,A,C,_,x,E,B;const v=i("Loading"),L=i("OrderProgressbar"),p=i("RouterLink");return d(),n(I,null,[l(v,{active:a.onLoading},null,8,["active"]),e.orderInfo.id?(d(),n("div",j,[l(L,{state:e.OrderState},null,8,["state"]),t("div",q,[s[15]||(s[15]=t("h3",{class:"mb-6 fw-bold fs-lg fs-lg-2xl"},"訂單成立，以下是您的訂單明細：",-1)),t("div",z,[t("p",G,[s[0]||(s[0]=t("strong",{class:"fw-semibold"},"訂單標號:",-1)),r(" "+o((m=e.orderInfo)==null?void 0:m.id),1)]),t("p",H,[s[1]||(s[1]=t("strong",{class:"fw-semibold"},"訂單時間:",-1)),r(" "+o(w.formatDate((f=e.orderInfo)==null?void 0:f.create_at,!0)),1)]),s[12]||(s[12]=t("h4",{class:"border-bottom border-neutral fw-bold"},"產品明細",-1)),t("table",J,[s[2]||(s[2]=t("thead",null,[t("tr",null,[t("th",null,"名稱"),t("th",{class:"text-center"},"數量"),t("th",{class:"text-center"},"金額"),t("th",{class:"text-center"},"小計")])],-1)),t("tbody",null,[(d(!0),n(I,null,V(e.orderInfo.products,u=>(d(),n("tr",{key:u.id},[t("td",K,o(u.product.title),1),t("td",M,o(u.qty)+"("+o(u.product.unit)+")",1),t("td",Q,o(u.product.price),1),t("td",U,o(u.final_total),1)]))),128))])]),t("p",W,[s[3]||(s[3]=r(" 總計： ")),t("span",X,"NT$"+o((b=e.orderInfo)==null?void 0:b.total),1)]),s[13]||(s[13]=t("h4",{class:"border-bottom border-neutral fw-bold"},"購買人資訊",-1)),t("ul",Y,[t("li",Z,[s[4]||(s[4]=t("strong",{class:"fw-semibold"},"購買人姓名：",-1)),s[5]||(s[5]=r()),t("span",null,o((g=(c=e.orderInfo)==null?void 0:c.user)==null?void 0:g.name),1)]),t("li",$,[s[6]||(s[6]=t("strong",{class:"fw-semibold"},"購買人電話：",-1)),s[7]||(s[7]=r()),t("span",null,o((A=(F=e.orderInfo)==null?void 0:F.user)==null?void 0:A.tel),1)]),t("li",tt,[s[8]||(s[8]=t("strong",{class:"fw-semibold"},"購買人信箱：",-1)),s[9]||(s[9]=r()),t("span",null,o((_=(C=e.orderInfo)==null?void 0:C.user)==null?void 0:_.email),1)]),t("li",null,[s[10]||(s[10]=t("strong",{class:"fw-semibold"},"購買人地址：",-1)),s[11]||(s[11]=r()),t("span",null,o((E=(x=e.orderInfo)==null?void 0:x.user)==null?void 0:E.address),1)])]),s[14]||(s[14]=t("div",{class:"mb-2"},"備註：",-1)),t("textarea",{class:"form-control text-neutral",value:(B=e.orderInfo)==null?void 0:B.message,disabled:"",style:{"min-height":"100px"}},null,8,st)])]),t("div",ot,[t("button",et,[l(p,{to:"/"},{default:D(()=>s[16]||(s[16]=[r("返回首頁")])),_:1})]),t("button",rt,[l(p,{to:"/products"},{default:D(()=>s[17]||(s[17]=[r("繼續選購")])),_:1})])])])):P("",!0)],64)}const ft=h(T,[["render",ut]]);export{ft as default};
