import{L as o,H as e,A as a,I as r,M as n}from"./index-BaE2heXT.js";const u=o("user",{actions:{async adminLogin(s){const{data:t}=await e("v2/admin/signin","post",!1,s);return n.set("accessToken",t.token),!0},async checkLogin(){try{await e("v2/api/user/check","post",!0,{})}catch(s){if(s instanceof a&&s.response){const{message:t}=s.response.data;(await r(t)).isConfirmed&&this.$router.push("/login")}}},async logout(){var s;try{const{data:t}=await e("v2/logout","post",!0,{});t&&this.$router.push("/")}catch(t){t instanceof a&&r(((s=t.response)==null?void 0:s.data.message)||"伺服器出問題了")}}}});export{u};
