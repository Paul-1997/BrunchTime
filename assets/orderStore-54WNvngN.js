import{L as f,H as i,A as r,I as n,S as c}from"./index-BaE2heXT.js";const g={VITE_APP_API_NAME:"paul7426"},{VITE_APP_API_NAME:o}=g,p=f("orders",{state(){return{orderList:[],pagination:{},onLoading:!1}},actions:{async getOrders(s,e=0){var a;try{let t=`v2/api/${o}/${s==="admin"?"admin/":""}orders`;e>0&&(t+=`?page=${e}`),this.onLoading=!0;const{data:d}=await i(t,"get",s==="admin");d.success&&(this.orderList=d.orders,this.pagination=d.pagination)}catch(t){t instanceof r&&n(((a=t.response)==null?void 0:a.data.message)||"錯誤!")}finally{this.onLoading=!1}},async getSingleOrder(s){var e;try{const a=`v2/api/${o}/order/${s}`;this.onLoading=!0;const{data:t}=await i(a,"get");return t}catch(a){return a instanceof r&&n(((e=a.response)==null?void 0:e.data.message)||"錯誤!"),!1}finally{this.onLoading=!1}},async deleteOrder(s){var e;try{const a=`v2/api/${o}/admin/order/${s}`;this.onLoading=!0;const{data:t}=await i(a,"delete",!0);t.success&&(c(t.message),this.getOrders("admin"))}catch(a){a instanceof r&&n(((e=a.response)==null?void 0:e.data.message)||"錯誤!")}finally{this.onLoading=!1}},async updateOrder(s){var e;try{const a=`v2/api/${o}/admin/order/${s.id}`;this.onLoading=!0;const{data:t}=await i(a,"put",!0,{data:s});t.success&&(c(t.message),this.getOrders("admin"))}catch(a){a instanceof r&&n(((e=a.response)==null?void 0:e.data.message)||"錯誤!")}finally{this.onLoading=!1}},async pushOrder(s){var e;try{const a=`v2/api/${o}/order`;this.onLoading=!0;const{data:t}=await i(a,"post",!0,{data:s});return t}catch(a){return a instanceof r&&n(((e=a.response)==null?void 0:e.data.message)||"錯誤!"),!1}finally{this.onLoading=!1}}}});export{p as o};
